{% extends 'base.html.twig' %}

{% block title %}Cave à idées !
{% endblock %}

{% form_theme memoryForm 'tailwind_2_layout.html.twig' %}

{% block body %}
	<div class="bg-gray-100 w-full body">

		<h1 class="text-3xl p-5 m-5 text-center">Vide-Cerveau<h1>
				<div class="bg-gray-100 font-sans flex items-center justify-center">
					<div x-data="{ openTab: 1 }" class="p-8 w-1/2">
						<div class="w-full mx-auto">
							<div class="mb-4 flex space-x-4 p-2 bg-white rounded-lg shadow-md">
								<button x-on:click="openTab = 1" :class="{ 'bg-blue-600 text-white': openTab === 1 }" class="flex-1 py-2 px-4 rounded-md focus:outline-none focus:shadow-outline-blue transition-all duration-300">A faire
								</button>
								<button x-on:click="openTab = 2" :class="{ 'bg-blue-600 text-white': openTab === 2 }" class="flex-1 py-2 px-4 rounded-md focus:outline-none focus:shadow-outline-blue transition-all duration-300">Effectuées
								</button>
							</div>

							<div x-show="openTab === 1" class="transition-all duration-300 bg-white p-4 rounded-lg shadow-md border-l-4 border-blue-600 ">

								<div class="flex flex-col justify-center items-center ">
									<div class="w-full !z-5 relative flex flex-col rounded-[20px] bg-white bg-clip-border shadow-3xl shadow-shadow-500 flex flex-col w-full !p-4 3xl:p-![18px] bg-white undefined">

										<div class="relative flex flex-row justify-between">
											<div class="flex items-center">
												<div class="flex h-9 w-9 items-center justify-center rounded-full bg-indigo-100">
													<span class="material-symbols-rounded h-6 w-6 text-brand-500">
														check_circle
													</span>
												</div>
												<h4 class="ml-4 text-xl font-bold text-navy-700 text-blue-600">
													Boîte de réception
												</h4>
											</div>
										</div>

										<div class="max-w-2xl w-full mx-auto py-9">

											{# <form> #}
											{# <label for="default-add" class="mb-2 text-sm font-medium text-gray-900 sr-only dark:text-gray-300">Add</label> #}
												<div class="relative mb-12 "> {{ form_start(memoryForm)}}
												{{ form_row(memoryForm.title) }}
												{{ form_row(memoryForm.description) }}
												{# <input type="add" id="default-add" class="block p-4 pl-3 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Que devez-vous faire ?" required> #}

												<button type="submit" class="text-white absolute w-1/5 right-2.5 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2">
													<div class="flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none p-3">
														<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
															<path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15"/>
														</svg>
													</div>
													Créer
												</button>
												{{form_end(memoryForm)}}
											</div>
											{# </form> #}
										</br>
									</br>


									<div class="h-full w-full">

										{% for donnee in donnees %}
											<div class="mt-2 flex items-center justify-between p-2 memory-{{donnee.id}}">
												<div class="flex items-center justify-center gap-2">

													<input type="checkbox" class="defaultCheckbox relative flex h-[20px] min-h-[20px] w-[20px] min-w-[20px] appearance-none items-center
													justify-center rounded-md border border-gray-300 text-white/0 outline-none transition duration-[0.2s]
													checked:border-none checked:text-white hover:cursor-pointer checked:bg-brand-500" name="weekly" checked/>

													<h3 class="text-base font-bold text-navy-700 title-memory-{{donnee.id}} update-data" data-tag = "h3" data-class="title-memory-{{donnee.id}}" data-classe="text-base font-bold text-navy-700 title-memory-{{donnee.id}} update-data" data-body="{{donnee.title}}" data-path="{{path('memories_update', { id: donnee.id }) }}">{{ donnee.title }}</h3>
													<div class="text-base text-navy-700 description-memory-{{donnee.id}} update-data" data-tag = "div" data-class="description-memory-{{donnee.id}}" data-classe="text-base text-navy-700 description-memory-{{donnee.id}} update-data" data-body="{{donnee.description}}" data-path="{{path('memories_update', { id: donnee.id }) }}">{{donnee.description}}</div>

													<div class="delete-button-container">
														<button class="delete-button text-white absolute right-2.5 bg-red-400 hover:bg-red-500 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-1 " type="button" data-id = "{{donnee.id}}" data-path="{{path('memories_delete', { id: donnee.id }) }}">X</button>
													</div>

												</div>
											</div>
										{% endfor %}
									</div>
								</div>
							</div>
						</div>
					</div>

					<div x-show="openTab === 2" class="transition-all duration-300 bg-white p-4 rounded-lg shadow-md border-l-4 border-blue-600"></div>
				</div>
			</div>
		</div>
		<script src="https://cdn.jsdelivr.net/npm/alpinejs@2.8.2/dist/alpine.min.js" defer></script>

		<script src="https://unpkg.com/flowbite@1.4.0/dist/flowbite.js"></script>
		{# <script src="{{ asset('build/app.js') }}"></script> #}
		{# <h1>Bienvenue dans ta cave à idées !</h1>
										
														<h2>Ajouter un Memory</h2>
										
														{# {{form_start(memoryForm)}}
														{{ form_row(memoryForm.title) }}
														{{ form_row(memoryForm.description) }}
														<button type="submit">Créer un Memory</button>
														{{form_end(memoryForm)}}
										
										
														<ul>
															{% for donnee in donnees %}
																<li data-id="memory-{{donnee.id}}">
																	<h3 class="title-memory-{{donnee.id}}" onclick="changeTag('{{ path('memories_update', { id: donnee.id }) }}', 'h3', 'title-memory-{{donnee.id}}', '{{donnee.title}}')">{{ donnee.title }}</h3>
										
																	<div class="description-memory-{{donnee.id}}" onclick="changeTag('{{ path('memories_update', { id: donnee.id }) }}', 'div', 'description-memory-{{donnee.id}}', '{{donnee.description}}')">{{donnee.description}}</div>
										
										
																	<div class="delete-button-container">
																		<button type="button" onclick="deleteMemory('{{ path('memories_delete', { id: donnee.id }) }}', 'memory-{{ donnee.id }}')">Supprimer</button>
																	</div>
										
																</li>
										
										
															{% endfor %}
														</ul>
										 #}

	{% endblock %}
